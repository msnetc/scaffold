APPLICATION_ID: scaffold
service_description:
  name: edge-service
  version: 0.0.1
servicecomb:
  service:
    registry:
      address: http://127.0.0.1:30100
  rest:
    address: 127.0.0.1:9090
    server:
      thread-count: 8
    client:
      thread-count: 8
  handler:
    chain:
      Consumer:
        default: authentication,loadbalance
  #TODO: 将改进为异步调用Reactive模式
  executors:
      default: cse.executor.groupThreadPool
  http:
    dispatcher:
      edge:
        default:
          enabled: true
          prefix: rest
          withVersion: true
          prefixSegmentCount: 1
        url:
          enabled: true
          mappings:
            user:
              prefixSegmentCount: 1
              path: "/user/v2/.*"
              microserviceName: user
              versionRule: 2.0.0-3.0.0
            payment:
              prefixSegmentCount: 1
              path: "/payment/v2/.*"
              microserviceName: payment
              versionRule: 2.0.0-3.0.0